<%
  # Gitolite Hooks Config
  gitolite_hooks_are_asynchronous = OpenProject::GitHosting::GitoliteWrapper.true?(:gitolite_hooks_are_asynchronous)
  gitolite_force_hooks_update     = OpenProject::GitHosting::GitoliteWrapper.true?(:gitolite_force_hooks_update)
  gitolite_hooks_debug            = OpenProject::GitHosting::GitoliteWrapper.true?(:gitolite_hooks_debug)
  gitolite_hooks_url              = OpenProject::GitHosting::GitoliteWrapper.true?(:gitolite_hooks_url)
  gitolite_hooks_namespace        = OpenProject::GitHosting::GitoliteWrapper.true?(:gitolite_hooks_namespace)
%>

<h3><%= l(:label_gitolite_hooks_config) %></h3>

<p>
  <label><%= l(:label_gitolite_force_hooks_update) %></label>
  <span class="bootstrap-switch switch-small" data-on="primary" data-off="default" data-on-label="<%= l(:label_yes) %>" data-off-label="<%= l(:label_no) %>">
    <%= hidden_field_tag "settings[gitolite_force_hooks_update]", "false" %>
    <%= check_box_tag "settings[gitolite_force_hooks_update]", gitolite_force_hooks_update, gitolite_force_hooks_update %>
  </span>
</p>

<p>
  <label><%= l(:label_gitolite_hooks_debug) %></label>
  <span class="bootstrap-switch switch-small" data-on="primary" data-off="default" data-on-label="<%= l(:label_yes) %>" data-off-label="<%= l(:label_no) %>">
    <%= hidden_field_tag "settings[gitolite_hooks_debug]", "false" %>
    <%= check_box_tag "settings[gitolite_hooks_debug]", gitolite_hooks_debug, gitolite_hooks_debug %>
  </span>
</p>

  <% hooks_manager = OpenProject::GitHosting::GitoliteHook.instance %>


<p>
  <label><%= l(:label_gitolite_hooks_url) %></label>
  <span class="label label-info"><%= hooks_manager.gitolite_hooks_url %></span>
</p>

<p>
  <label><%= l(:label_gitolite_hooks_namespace) %></label>
  <span class="label label-info"><%= hooks_manager.gitolite_hooks_namespace %></span>
</p>
